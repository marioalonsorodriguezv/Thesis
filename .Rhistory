mean(Words)
￼Words <- "Hello World"
Words <- "hello world"
mean(Words)
class(Words)
NumericVect <- c(2.8, 2, 14.8)
CharacterVect <- c("Albania", "Botswana", "Cambodia")
CharacterVect
NumericVect
StringNumObject <- data.frame(CharacterVect, NumericVect)
StringNumObject
StringNumObject <- cbind(CharacterVect, NumericVect)
StringNumObject
StringNumObject <- data.frame(CharacterVect, NumericVect)
StringNumObject
names(StringNumObject)
row.names(StringNumObject) <- c("First", "Second", "Third")
row.names(StringNumObject)
View(StringNumObject)
cars
attach(cars)
head(speed)
cars[3:7, ]
cars[4, "dist"]
cars[4, 2]
?mean
5+13
1:100
1:5:100
print("Hello World!")  # Prints "Hello World" in console
x <- 1:5  # Put the numbers 1-5 in the variable x
a <- 1  # Use <- and not =
2 -> a  # Can go other way, but silly
a <- b <- c <- 3  # Multiple assignments
browseURL("http://cran.r-project.org/web/views/")
# TO INSTALL AND USE PACKAGES
# Can use menus: Tools > Install Packages... (or use Package window)
# Or can use scripts, which can be saved in incorporated in source
install.packages("ggplot2")  # Downloads package from CRAN and installs in R
?install.packages
library("ggplot2")  # Make package available; often used for loading in scripts
require("ggplot2")  # Preferred for loading in functions; maybe better?
library(help = "ggplot2")  # Brings up documentation in editor window
vignette(package = "grid")  # Brings up list of vignettes (examples) in editor window
vignette()
browseVignettes()
browseURL("http://cran.stat.ucla.edu/web/packages/available_packages_by_name.html")
?datasets
data()
?airmiles
data(airmiles)  # Listed as "ts" for "time-series"
airmiles
?str
str(airmiles)
data(airmiles)  # Listed as "ts" for "time-series"
airmiles
str(airmiles)
?anscombe
data(anscombe)  # Appears under "Data" in the Workspace
str(anscombe)
anscombe
View(anscombe)
View(anscombe)
rm(list = ls())  # Clean up
data(anscombe)  # Appears under "Data" in the Workspace
x6 <- scan()  # After running this command, go to console
# Hit return twice to stop
# R Statistics Essential Training
# Ex01_06
# Entering data manually
# Create sequential data
x1 <- 0:10  # Assigns number 0 through 10 to x1
x1  # Prints contents of x1 in console
x2 <- 10:0  # Assigns number 10 through 0 to x2
x2
x3 <- seq(10)  # Counts from 1 to 10
x3
?seq
x4 <- seq(30, 0, by = -3)  # Counts down by 3
x4
# Manually enter data
x5 <- c(5, 4, 1, 6, 7, 2, 2, 3, 2, 8)  # Concatenate
x5
?c
x6 <- scan()  # After running this command, go to console
# Hit return twice to stop
x6
?scan
ls()  # List objects (same as Workspace viewer)
?ls
rm(list = ls())  # Clean up
x6 <- scan()  # After running this command, go to console
# Hit return twice to stop
# EXCEL FILES
# Don't do it
browseURL("http://cran.r-project.org/doc/manuals/R-data.html#Reading-Excel-spreadsheets")
trends.txt <- read.table("~/Desktop/R/GoogleTrends.txt", header = TRUE)
?read.table
trends.txt <- read.table("/Users/alvarolopezguiresse/GoogleDrive/[] ADMINISTRACION PUBLICA/[4] STATS/R/Exercise Files/Ch01/01_07 Final/GoogleTrends.txt", header = TRUE)
?read.table
trends.txt <- read.table("/Users/alvarolopezguiresse/GoogleDrive/[] ADMINISTRACION PUBLICA/[4] STATS/R/Exercise Files/Ch01/01_07 Final/GoogleTrends.txt", header = TRUE)
trends.txt <- read.table("~/GoogleTrends.txt", header = TRUE)
trends.txt <- read.table("/Users/alvarolopezguiresse/GoogleDrive/[] ADMINISTRACION PUBLICA/[4] STATS/R/Exercise Files/Ch01/01_07 Final/GoogleTrends.txt", header = TRUE)
trends.txt <- read.table("~/Desktop/R/GoogleTrends.txt", header = TRUE)
trends.txt <- read.table("/Users/alvarolopezguiresse/Desktop/R/GoogleTrends.txt", header = TRUE)
?read.table
trends.txt <- read.table("/Users/alvarolopezguiresse/Desktop/R/GoogleTrends.txt", header = TRUE)
View(trends.txt)
trends.txt <- read.table("~/Desktop/R/GoogleTrends.txt", header = TRUE, sep = "\t")
str(trends.txt)  # This gives structure of object sntxt
View(trends.txt)
?View
trends.csv <- read.csv("~/Desktop/R/GoogleTrends.csv", header = TRUE)
str(trends.csv)
View(trends.csv)
rm(list = ls())  # Clean up
rm(list = ls())  # Clean up
library(xlsx)
install.packages("xlsx")
library(xlsx)
install.packages('rJava')
install.packages("rJava")
install.packages("xlsx")
library(xlsx)
install.packages("xlsxjars")
install.packages("xlsx")
library(xlsx)
install.packages("xlsx")
install.packages('rJava')
library(xlsx)
install.packages('xlsx')
library(xlsx)
WEFJI <- read.xlsx("WEFJudInd.xlsx", 1)
df <- read.csv("AnalisisRCompleta.csv")
gr_2 <- aggregate(cbind(blpi_pct, pf_pct, rs_pct, os_pct ) ~ year + un_region_name, data = df, FUN = function(x) mn = mean(x))
gr_2_bar <- subset(gr_2, year=="2015" | year=="1996")
gr_2_bar_r <- gather(gr_2_bar, "subindex", "value", 3:6)
p2 <- ggplot(gr_2_bar_r,aes(un_region_name,value,fill=subindex))+
geom_bar(stat="identity",position="dodge") + theme_minimal() + facet_grid(~year)
p2 <- p2 + labs(title = "PFR Subindex level in 1996 & 2015", x = "Region", y = "PFR Subindex")
p2 <- p2 + scale_fill_discrete(name="PFR \n Subindex", labels=c("Bans & limits on private income", "Public funding", "Regulation on spending","Reporting, oversight & sanctions"))
p2 <- p2 + theme(legend.position="bottom", legend.background = element_rect(colour = "grey"))
p2
library(WDI)
library(countrycode)
library(xlsx)
library(openxlsx)
library(repmis)
library(tidyr)
library(WDI)
library(XML)
library(plyr)
library(plm)
library(dplyr)
library(ggplot2)
library(plotly)
library(foreign)
library(gcookbook)
library(interplot)
library("margins")
setwd("/Users/alvarolopezguiresse/GoogleDrive/[] ADMINISTRACION PUBLICA/tesis/Thesis")
# --> (1) Gráfico de líneas de evolución en el tiempo del PFR dividido por
# regiones: América, Europa, África, Oceanía, Asia.
############################################################################
df <- read.csv("AnalisisRCompleta.csv")
# ->? se eliminan países con NA values.
# se calculan promedio por año.
gr_1 <- aggregate(idea_pct ~ year + un_region_name, data = df, FUN = function(x) mn = mean(x))
p1 <- ggplot(data=gr_1, aes(x=year, y=idea_pct, colour=un_region_name)) + geom_line() + theme_minimal()
p1 <- p1 + theme(legend.position="bottom", legend.background = element_rect(colour = "grey"))
p1 <- p1 + labs(title = "PFR Index time series by region 1996 - 2015", x="year", y="PFR Index")
p1 <- p1 + guides(color=guide_legend("Region"))
p1
############################################################################
# --> (2) Gráfico de barras diferencia PFR 1996-2015, dividido por categoría y
# dentro de cada categoría las cinco regiones.
############################################################################
df <- read.csv("AnalisisRCompleta.csv")
gr_2 <- aggregate(cbind(blpi_pct, pf_pct, rs_pct, os_pct ) ~ year + un_region_name, data = df, FUN = function(x) mn = mean(x))
gr_2_bar <- subset(gr_2, year=="2015" | year=="1996")
gr_2_bar_r <- gather(gr_2_bar, "subindex", "value", 3:6)
p2 <- ggplot(gr_2_bar_r,aes(un_region_name,value,fill=subindex))+
geom_bar(stat="identity",position="dodge") + theme_minimal() + facet_grid(~year)
p2 <- p2 + labs(title = "PFR Subindex level in 1996 & 2015", x = "Region", y = "PFR Subindex")
p2 <- p2 + scale_fill_discrete(name="PFR \n Subindex", labels=c("Bans & limits on private income", "Public funding", "Regulation on spending","Reporting, oversight & sanctions"))
p2 <- p2 + theme(legend.position="bottom", legend.background = element_rect(colour = "grey"))
p2
--> (3) Gráfico de barras diferencia PFR 1996-2015, dividido por categoría y
# dentro de cada categoría las cinco regiones.
############################################################################
df <- read.csv("AnalisisRCompleta.csv")
# se hace el recode de las regiones
df$un_region_new <- "NULL"
# asia y oceania
df$un_region_new[which(df$un_intermediate._region_name == "Australia and New Zealand")] <- "Oceania"
df$un_region_new[which(df$un_intermediate._region_name == "Polynesia")] <- "Oceania"
df$un_region_new[which(df$un_intermediate._region_name == "Melanesia")] <- "Oceania"
df$un_region_new[which(df$un_intermediate._region_name == "Central Asia")] <- "Asia"
df$un_region_new[which(df$un_intermediate._region_name == "South-eastern Asia")] <- "Asia"
df$un_region_new[which(df$un_intermediate._region_name == "Southern Asia")] <- "Asia"
df$un_region_new[which(df$un_intermediate._region_name == "Western Asia")] <- "Asia"
df$un_region_new[which(df$un_intermediate._region_name == "Eastern Asia")] <- "Asia"
# africa
df$un_region_new[which(df$un_intermediate._region_name == "Eastern Africa")] <- "Africa"
df$un_region_new[which(df$un_intermediate._region_name == "Middle Africa")] <- "Africa"
df$un_region_new[which(df$un_intermediate._region_name == "Northern Africa")] <- "Africa"
df$un_region_new[which(df$un_intermediate._region_name == "Southern Africa")] <- "Africa"
df$un_region_new[which(df$un_intermediate._region_name == "Sub-Saharan Africa")] <- "Africa"
df$un_region_new[which(df$un_intermediate._region_name == "Western Africa")] <- "Africa"
# europe
df$un_region_new[which(df$un_intermediate._region_name == "Northern Europe")] <- "Western Europe"
df$un_region_new[which(df$un_intermediate._region_name == "Eastern Europe")] <- "Eastern Europe"
df$un_region_new[which(df$un_intermediate._region_name == "Western Europe")] <- "Western Europe"
df$un_region_new[which(df$un_intermediate._region_name == "Southern Europe")] <- "Southern Europe"
# america
df$un_region_new[which(df$un_intermediate._region_name == "Caribbean")] <- "Caribean"
df$un_region_new[which(df$un_intermediate._region_name == "Central America")] <- "Central America"
df$un_region_new[which(df$un_intermediate._region_name == "Northern America")] <- "Northern America"
df$un_region_new[which(df$un_intermediate._region_name == "South America")] <- "South America"
gr_3 <- aggregate(cbind(idea_pct,CoC) ~ year + un_region_new, data = df, FUN = function(x) mn = mean(x))
temp1 <- subset(gr_3, year=="2015")
temp2 <- subset(gr_3, year=="1996")
temp3 <- merge(temp1, temp2, by = "un_region_new")
temp3$idea_pct_diff <- temp3$idea_pct.x - temp3$idea_pct.y
temp3$coc_diff <- temp3$CoC.x - temp3$CoC.y
temp4 <- c("un_region_new", "idea_pct_diff", "coc_diff")
temp5 <- temp3[temp4]
names(temp5) <- c("region", "idea", "coc")
# order barplot by coc.
temp6 <- temp5[order(temp5$coc),]
temp7 <- gather(temp5, "variable", "value", 2:3)
p3 <- ggplot(temp7,aes(region,value,fill=variable))+
geom_bar(stat="identity",position="dodge") + theme_minimal()
p3 <- p3 + labs(title = "PFR Index & World Bank Control of Corruption (CoC) \nchange in 1996 & 2015 period", x = "Region", y = "PFR Index & CoC change")
p3 <- p3 + scale_fill_discrete(name = "", labels=c("World Bank Control of Corruption", "PFR Index"))
p3 <- p3 + theme(legend.position="bottom", legend.background = element_rect(colour = "grey"))
p3 <- p3
p3
# --> (2) Gráfico de barras diferencia PFR 1996-2015, dividido por categoría y
# dentro de cada categoría las cinco regiones.
############################################################################
df <- read.csv("AnalisisRCompleta.csv")
gr_2 <- aggregate(cbind(blpi_pct, pf_pct, rs_pct, os_pct ) ~ year + un_region_name, data = df, FUN = function(x) mn = mean(x))
gr_2_bar <- subset(gr_2, year=="2015" | year=="1996")
gr_2_bar_r <- gather(gr_2_bar, "subindex", "value", 3:6)
p2 <- ggplot(gr_2_bar_r,aes(un_region_name,value,fill=subindex))+
geom_bar(stat="identity",position="dodge") + theme_minimal() + facet_grid(~year)
p2 <- p2 + labs(title = "PFR Subindex level in 1996 & 2015", x = "Region", y = "PFR Subindex")
p2 <- p2 + scale_fill_discrete(name="PFR \n Subindex", labels=c("Bans & limits on private income", "Public funding", "Regulation on spending","Reporting, oversight & sanctions"))
p2 <- p2 + theme(legend.position="bottom", legend.background = element_rect(colour = "grey"))
p2
############################################################################
